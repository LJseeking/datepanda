
> datepanda-app@0.1.0 dev
> next dev

▲ Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://192.168.31.248:3000
- Environments: .env

✓ Starting...
⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
✓ Ready in 955ms
 GET /profile 200 in 817ms (compile: 622ms, render: 194ms)
(node:11908) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
prisma:query SELECT "public"."Profile"."id", "public"."Profile"."userId", "public"."Profile"."responseId", "public"."Profile"."questionnaireVersionId", "public"."Profile"."profileSpecVersionId", "public"."Profile"."templateVersionId", "public"."Profile"."policyChecksum", "public"."Profile"."policySnapshot", "public"."Profile"."profileSnapshot", "public"."Profile"."createdAt" FROM "public"."Profile" WHERE "public"."Profile"."userId" = $1 ORDER BY "public"."Profile"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."User"."id", "public"."User"."avatarUrl", "public"."User"."photoVisibility" FROM "public"."User" WHERE "public"."User"."id" IN (NULL) OFFSET $1
 GET /api/profile/me 200 in 3.0s (compile: 234ms, render: 2.7s)
prisma:query UPDATE "public"."User" SET "lastActiveAt" = $1, "updatedAt" = $2 WHERE ("public"."User"."id" = $3 AND 1=1) RETURNING "public"."User"."id", "public"."User"."status", "public"."User"."deletedAt", "public"."User"."lastActiveAt", "public"."User"."cityCode", "public"."User"."schoolId", "public"."User"."avatarUrl", "public"."User"."photoVisibility", "public"."User"."createdAt", "public"."User"."updatedAt"
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."UserQuestionnaireState" SET "submittedResponseId" = $1, "updatedAt" = $2 WHERE ("public"."UserQuestionnaireState"."id" = $3 AND 1=1) RETURNING "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt"
prisma:query UPDATE "public"."Response" SET "status" = CAST($1::text AS "public"."ResponseStatus"), "updatedAt" = $2 WHERE ("public"."Response"."id" = $3 AND 1=1) RETURNING "public"."Response"."id", "public"."Response"."userId", "public"."Response"."questionnaireVersionId", "public"."Response"."status"::text, "public"."Response"."startedAt", "public"."Response"."submittedAt", "public"."Response"."durationSec", "public"."Response"."deviceId", "public"."Response"."clientMeta", "public"."Response"."invalidatedAt", "public"."Response"."invalidReasonCodes", "public"."Response"."createdAt", "public"."Response"."updatedAt"
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE (("public"."UserQuestionnaireState"."userId" = $1 AND "public"."UserQuestionnaireState"."questionnaireVersionId" = $2) AND 1=1) LIMIT $3 OFFSET $4
GEN ERR Response {
  status: 400,
  statusText: '',
  headers: Headers { 'content-type': 'application/json' },
  body: ReadableStream { locked: false, state: 'readable', supportsBYOB: true },
  bodyUsed: false,
  ok: false,
  redirected: false,
  type: 'default',
  url: ''
}
 GET /api/debug/fix-profiles 200 in 2.6s (compile: 70ms, render: 2.5s)
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."UserQuestionnaireState" SET "submittedResponseId" = $1, "updatedAt" = $2 WHERE ("public"."UserQuestionnaireState"."id" = $3 AND 1=1) RETURNING "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt"
prisma:query UPDATE "public"."Response" SET "status" = CAST($1::text AS "public"."ResponseStatus"), "updatedAt" = $2 WHERE ("public"."Response"."id" = $3 AND 1=1) RETURNING "public"."Response"."id", "public"."Response"."userId", "public"."Response"."questionnaireVersionId", "public"."Response"."status"::text, "public"."Response"."startedAt", "public"."Response"."submittedAt", "public"."Response"."durationSec", "public"."Response"."deviceId", "public"."Response"."clientMeta", "public"."Response"."invalidatedAt", "public"."Response"."invalidReasonCodes", "public"."Response"."createdAt", "public"."Response"."updatedAt"
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE (("public"."UserQuestionnaireState"."userId" = $1 AND "public"."UserQuestionnaireState"."questionnaireVersionId" = $2) AND 1=1) LIMIT $3 OFFSET $4
 GET /api/debug/fix-profiles 200 in 2.6s (compile: 36ms, render: 2.6s)
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."UserQuestionnaireState" SET "submittedResponseId" = $1, "updatedAt" = $2 WHERE ("public"."UserQuestionnaireState"."id" = $3 AND 1=1) RETURNING "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt"
prisma:query UPDATE "public"."Response" SET "status" = CAST($1::text AS "public"."ResponseStatus"), "updatedAt" = $2 WHERE ("public"."Response"."id" = $3 AND 1=1) RETURNING "public"."Response"."id", "public"."Response"."userId", "public"."Response"."questionnaireVersionId", "public"."Response"."status"::text, "public"."Response"."startedAt", "public"."Response"."submittedAt", "public"."Response"."durationSec", "public"."Response"."deviceId", "public"."Response"."clientMeta", "public"."Response"."invalidatedAt", "public"."Response"."invalidReasonCodes", "public"."Response"."createdAt", "public"."Response"."updatedAt"
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE (("public"."UserQuestionnaireState"."userId" = $1 AND "public"."UserQuestionnaireState"."questionnaireVersionId" = $2) AND 1=1) LIMIT $3 OFFSET $4
 GET /api/debug/fix-profiles 200 in 2.5s (compile: 21ms, render: 2.5s)
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
prisma:query SELECT "public"."UserQuestionnaireState"."id", "public"."UserQuestionnaireState"."userId", "public"."UserQuestionnaireState"."questionnaireVersionId", "public"."UserQuestionnaireState"."activeResponseId", "public"."UserQuestionnaireState"."submittedResponseId", "public"."UserQuestionnaireState"."submittedAt", "public"."UserQuestionnaireState"."updatedAt" FROM "public"."UserQuestionnaireState" WHERE "public"."UserQuestionnaireState"."userId" = $1 LIMIT $2 OFFSET $3
